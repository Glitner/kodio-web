---
import Link from 'components/Link.astro';
import type { Mark, Props as PortableTextProps } from 'astro-portabletext/types';
import type { BlockContentInternalLink } from 'types/sanity';

export type Props = PortableTextProps<Mark<BlockContentInternalLink | undefined>>;

const { node } = Astro.props;

const href = `/${node.markDef?.slug.current ?? ''}`;
---

<Link class="internal-link" href={href}><slot /></Link>

<style lang="scss">
  .internal-link {
    @include link;
  }
</style>
