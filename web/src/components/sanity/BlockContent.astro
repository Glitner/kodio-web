---
import { PortableText } from 'astro-portabletext';
import OrderedList from '@components/OrderedList.astro';
import UnorderedList from '@components/UnorderedList.astro';
import BlockContentExternalLink from './BlockContentExternalLink.astro';
import BlockContentImage from './BlockContentImage.astro';
import BlockContentInternalLink from './BlockContentInternalLink.astro';
import type { ArbitraryTypedObject } from '@portabletext/types';

export type Props = {
  value: ArbitraryTypedObject | ArbitraryTypedObject[] | undefined;
};

const { value } = Astro.props;
---

{
  value && (
    <PortableText
      value={value}
      components={{
        list: { bullet: UnorderedList, number: OrderedList },
        mark: {
          blockContentExternalLink: BlockContentExternalLink,
          blockContentInternalLink: BlockContentInternalLink,
        },
        type: {
          imageObj: BlockContentImage,
        },
      }}
    />
  )
}
