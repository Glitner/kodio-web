---
export interface Props {
  color: string;
}

const { color } = Astro.props;
---

<section>
  <div class="content-wrapper">
    <slot />
  </div>
</section>

<style lang="scss" define:vars={{ color }}>
  section {
    position: relative;
    background-color: var(--color);

    &:not(:first-child)::before {
      content: '';
      position: absolute;
      background-color: transparent;
      top: -20px;
      left: 0;
      height: 20px;
      width: 10px;
      border-bottom-left-radius: 10px;
      box-shadow: 0 10px 0 0 var(--color);
    }

    &:not(:first-child)::after {
      content: '';
      position: absolute;
      background-color: transparent;
      top: -20px;
      right: 0;
      height: 20px;
      width: 10px;
      border-bottom-right-radius: 10px;
      box-shadow: 0 10px 0 0 var(--color);
    }

    :global(:last-child) {
      margin-bottom: 0;
    }

    .content-wrapper {
      margin: auto;
      padding: var(--content-padding);
      max-width: calc(var(--content-max-width) + var(--content-padding) * 2);
    }
  }
</style>
