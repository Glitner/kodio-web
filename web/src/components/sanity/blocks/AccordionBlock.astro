---
import Accordion from 'components/Accordion.astro';
import AccordionItem from 'components/AccordionItem.astro';
import BlockContent from 'components/sanity/BlockContent.astro';
import type { Props as PortableTextProps } from 'astro-portabletext/types';
import type { Accordion as AccordionType } from 'types/sanity';

export type Props = PortableTextProps<AccordionType>;

const { node, class: astroClass } = Astro.props;
---

<Accordion className={astroClass ?? ''}>
  {
    node.accordionItems?.map((item) => (
      <AccordionItem title={item.title ?? ''}>
        <BlockContent value={item.body} />
      </AccordionItem>
    ))
  }
</Accordion>
